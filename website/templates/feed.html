{% extends 'base.html' %} {% block title %}Feed{% endblock %}

{% block content %}

{% block body %}

<form>
  <div class="form-group">
    <div id="card-top" class="row justify-content-center">
      <input type="text" class="form-control search-bar" name="searchBar" id="searchBar" placeholder="Search" />
    </div>
  </div>
</form>

<div class="row" class="d-flex justify-content-between">
{% for trail in trails %}
<div class="card" id="trail-card" style="width: 23.3rem;">
    <img class="card-img-top" src="{{ trail.cover_image }}" alt="Card image cap">
    <div class="card-body">
      <h3 class="card-title">{{ trail.trail_name }}</h3>
      <p class="card-text">{{ trail.date.strftime("%A, %B %d, %Y") }}</p>
      <a href="http://maps.google.com/?q={{ trail.location }}" id="location-link" class="btn">{{ trail.location}}</a>
    </div>
    <ul class="list-group list-group-flush">
      <li class="list-group-item">Difficulty: {{ trail.difficulty.title() }}</li>
      <li class="list-group-item">Trail Type: {{ trail.terrain.title() }}</li>
      <li class="list-group-item">{{ trail.miles }} Miles | {{ trail.hours }} Hr | {{ trail.minutes }} Min  </li>
      <li class="list-group-item">Pace: {{ ((trail.hours*60+trail.minutes)/trail.miles)|round }} min/mile</li>
    </ul>

    <!-- Open Photo Album Button -->

    <a class="btn" id="photo-album-open" data-trail-id-for-album="{{ trail.id }}">Photo Album</a>

    <div class="modal fade" 
             id="photoModal"
             tabindex="-1" 
             role="dialog"
             aria-labelledby="photoModalLabel" 
             aria-hidden="true">
            <div class="modal-dialog" 
                 role="document">
                <div class="modal-content">
                  <div class="modal-body" id="modal-body">

    <!-- Photo Carousel -->
        <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
          <div class="carousel-inner">
          </div>

      <!-- Scroll Buttons -->
          <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
          </a>
          <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
    
    <!-- Button for Bootstrap Notes Modal -->
    <div class="card-body">
        <button type="button" 
                class="btn"
                data-modal="{{ trail.id }}"
                data-toggle="modal" 
                data-target="#notesModal">
            Notes
        </button>
    </div>
  </div>
{% endfor %}
</div>


{% endblock %}

{% endblock %}